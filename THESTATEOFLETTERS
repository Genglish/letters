Feb 3, 2010
Crashy will now download messages to it's cache, so you don't need to use the python script to load it up.

Right now, SSL support isn't working.  It'd be great if someone could look through the TCPConnection classes and figure out how to hook it up.

-gus


Feb 2, 2010
You still need imapPull.py to download all your messages and setup the cache.

However, I've added an experimental imap client class to LetterBox (built on top of Jens Alfke's MYNetwork classes: http://bitbucket.org/snej/mynetwork ), which does a handful of things currently:

Connect, login, list mailboxes, create mailbox, delete mailbox, subscribe, unsubscribe, select mailbox, and list messages in mailbox.

If you hit the "get more mail" button, it'll print out a list of the mailboxes, but doesn't currently update anything.

I'm thinking that it might be better if we write our own IMAP library, which has lots of hooks for GCD + blocks.  Of course, I say this only have written a fraction of what needs to be done so far.  Luckily, since the imap library is never exposed outside LetterBox, it's easy to swap in different implementations.

The code is very very messy right now.  It's still just a big sketch of ideas floating around in my noggin.

-gus




Jan 30, 2010
So right now, Letters is no longer pulling data from an imap server.

Instead, you'll need to run imapPull.py in the bin directory like so:

imapPull.py username password imapserver

It connects to port 993 by default via SSL, and downloads the messages to Letters's message cache.  The next time Crashy launches, it'll see the cached messages.  It'll still crash though.  I PROMISE!

Your prefs in Crashy need to point to the same server as well, so it knows where to look in the message cache.

If someone wants to stup up and take care of IMAP stuff, let me know.  I added some pyobjc code that crashy was bridging to, but GCD and blocks are out with this, which blows.  It's checked in, but it's not compiled in currently (LBPYIMAPConnection, IMAPFetcher.py)

-gus